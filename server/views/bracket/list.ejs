<%- include ../partials/header.ejs %> <%- include ../partials/main_nav.ejs %>
<!--List.ejs-->
<!--localhost:3000/bracket-list/show/_id:-->
<!-- Main Content -->
<!--Changes made:
Tournament layout to set up the teams
display missing some spacing
delete button does not refresh properly-->
<main class="container">
  <form class="form" method="post">
  <div class="row">
    <div class="col-md-offset-3 col-md-8">
      <h1><%=title %></h1>
      <br/>
      <table class="table table-bordered table-striped table-hover" style="background-color:#FFFFFF;">
        <!--HEader row-->
        <tr>
          <th class="text-center">Tournament Info</th>
          <th class="text-center">Game Info</th>
          <th class="text-center">Number of Teams</th>
          <th class="text-center">Description</th>
        </tr>
        <tr>
          <td class="text-centre "><%=bracket.tournamentName %></td>
          <td class="text-centre "><%=bracket.gameType %></td>
          <td class="text-centre "><%=bracket.players %></td>
          <td class="text-centre "><%=bracket.description %></td>
        </tr>  
      </table>
      <br>
      <H4>Round 1</H1>
    </div>
  </div>
    <body>
      <div class ="row">
        <!--3 tables are made (in order), 
            1/2 team names | game table display | other 1/2 team names-->
      <div class ="column">
      <table><!--uses bracket.players instead of number of entries to fix but when changing number of teams in edit page-->
          <% for (let count=0; count<(bracket.players/2); count++){%>
          <tr class="table-noborder bg-dark">
            <td class="text-center bg-danger "><%= bracket.teams[count] %></td>    
          </tr>   
          <% } %>
      </table>
      </div>
      <div class ="column">
      <% if (bracket.players == 8){ %><!--displays the middle table for 8 teams-->
      <table>
        <tr>
          <td>&nbsp;</td>
          <td rowspan ="2">game 1</td>
          <td colspan="3"></td>
          <td rowspan ="2">game 1</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	    
          <td>&nbsp;</td>		
          <td rowspan ="2">game 2</td>
          <td rowspan ="2">&ensp; final &ensp;</td>
          <td rowspan ="2">game 2</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>
          <td rowspan ="2">game 1</td>
          <td rowspan ="2">game 1</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>
          <td colspan="3"></td>
          <td>&nbsp;</td>
        </tr>
      </table>
      <% } else { %><!--displays middle table for 16 teams-->
      <table >
        <tr>
          <td>&nbsp;</td>
          <td rowspan ="2">game 1</td>
          <td colspan="5"></td>
          <td rowspan ="2">game 1</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>  
          <td rowspan ="2">game 2</td>
          <td colspan="3"></td>
          <td rowspan ="2">game 2</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>
          <td rowspan ="2">game 1</td>
          <td colspan="3"></td>
          <td rowspan ="2">Game 1</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>
          <td></td>
          <td rowspan="2">semi-final</td>
          <td rowspan="2"> <br>&ensp; final &ensp;</td><!--br here to highlight the final-->
          <td rowspan="2">semi-final</td>	
          <td></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td rowspan ="2">game 1</td>
          <td></td>
          <td></td>
          <td rowspan ="2">game 1</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>
          <td rowspan ="2">game 2</td>
          <td colspan="3"></td>
          <td rowspan ="2">game 2</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>
          <td rowspan ="2">game 1</td>
          <td colspan="3"></td>
          <td rowspan ="2">game 1</td>
          <td>&nbsp;</td>
        </tr>
        <tr>	
          <td>&nbsp;</td>
          <td colspan="5"></td>
          <td>&nbsp;</td>
        </tr>
      </table>
      <% } %>
      </div>
      <div class ="column">
        <table style="text-align:right">
        <% for (let count=0; count<(bracket.players/2); count++){%>
        <tr class="table-noborder bg-dark">
          <td class="text-center bg-danger "><%= bracket.teams[count+(bracket.players/2)] %></td>    
        </tr>   
        <% } %>
        </table>
      </div>
      </div><!--row close-->
    </body>
      <%{%>
        <!--<div style="height: 40px;">-->
          <br>
      <button class="btn btn-primary btn-sm">
         <a href="/bracket-list/edit/<%= bracket._id %>" style="text-decoration:none; color:white">Edit</a>
       </button>
        <button class="btn btn-warning btn-sm" >
        <a href="/bracket-list/delete/<%= bracket._id %>" style="text-decoration:none; color:white">
        Delete</a></button>
      <%}%>
  </form>
</main>

<%- include ../partials/bottom_nav.ejs %> <%- include ../partials/footer.ejs %>
